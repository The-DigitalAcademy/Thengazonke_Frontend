<div class="header">
  <h2 class="">RATE AND REVIEW</h2>
</div>
<div class="container mx-auto justify-center">

        <table class="table table-compact table-zebra w-full">
          <thead>
            <tr>
              <th class="head ">No</th> 
              <th class="head">Order#</th> 
              <th class="head">Status</th> 
              <th class="head">Action</th> 
            </tr>
          </thead> 
          <tbody>
            <tr *ngFor="let tra of trans; let i = index" >
              <th  >{{ i + 1 }}</th> 
              <td >G{{tra.transactionID}}</td> 
              <td >{{tra.status}}</td>  
              <td>
                <label for="my-modal"><a (click)="checkSelected(tra.livestockID, tra.transactionID)"><i class="fas fa-eye"></i></a></label>
              </td>  
            </tr>
          </tbody>
<!-- The button to open modal -->
<!-- The button to open modal -->
<!-- Put this part before </body> tag -->

      <input type="checkbox" id="my-modal" class="modal-toggle" />
      <div class="modal" >
        <div class="modal-box"> 
          <div class="card card-compact text-center mx-auto w-80 bg-neutral text-neutral-content" >
            <div class="card-body">

              <div *ngFor="let tr of transaction">
        
                <div *ngIf="(tr.status).toUpperCase() === 'Pending'.toUpperCase()">
                  <ul class="steps steps-horizontal lg:steps-horizonatl" >
                    <li class="step step-primary">Pending</li>
                    <li class="step">In-progress</li>
                    <li class="step">Cancelled</li>
                    <li class="step">Completed</li>
                  </ul>
                </div>
                
                <div *ngIf="(tr.status).toUpperCase() === 'In-progress'.toUpperCase()">
                  <ul class="steps steps-horizontal lg:steps-horizonatl" >
                    <li class="step">Pending</li>
                    <li class="step step-primary">In-progress</li>
                    <li class="step">Cancelled</li>
                    <li class="step">Completed</li>
                  </ul>
                </div>

                <div *ngIf="(tr.status).toUpperCase() === 'Cancelled'.toUpperCase()">
                  <ul class="steps steps-horizontal lg:steps-horizonatl" >
                    <li class="step">Pending</li>
                    <li class="step">In-progress</li>
                    <li class="step step-error">Cancelled</li>
                    <li class="step">Completed</li>
                  </ul>
                </div>

                <div *ngIf="(tr.status).toUpperCase() === 'complete'.toUpperCase()">
                  <ul class="steps steps-horizontal lg:steps-horizonatl" >
                    <li class="step">Pending</li>
                    <li class="step">In-progress</li>
                    <li class="step">Cancelled</li>
                    <li class="step step-accent">Completed</li>
                  </ul>
                </div>
                <br>
                <h4>Order: #{{tr.transactionID}}</h4>
              </div>

              <div *ngFor="let item of live"> 
                <figure><img src="../../../assets//bg1.jpeg" alt="" /></figure>
                <h3 class="card-title justify-center">{{item.categoryName}}</h3>
                <h2 class="w-3/4 mx-auto breed">{{item.breedName}}</h2>
                <h3 class="months">{{item.age}} months</h3>
                <h3 class="color">Color: {{item.color}}</h3>
                <h3 class="weigh">Weight: {{item.weight}}kg</h3>
                <br>
                <h3 class="price"><b>Price: {{item.price}}</b></h3>
                  <h3 class="address"><i class="fas fa-map-marker-alt"></i>{{item.address}}</h3>
                    <br>
                <div class="card-actions justify-center">

            <div class="modal-action"  *ngFor="let tr of transaction">

              <div *ngIf="(tr.status).toUpperCase() === 'Pending'.toUpperCase()"> 
                <!-- <div *ngIf="(tr.status).toUpperCase() === 'Pending'.toUpperCase()">  -->
                <option for="my-modal" class="btn m-2" (click) = closeModal()>Back</option>
                <option for="my-modal" class="btn m-2" (click)= cancelOrder()>Cancel Order</option>
              </div>

              <div *ngIf="(tr.status).toUpperCase() === 'complete'.toUpperCase()">
                <option for="my-modal" class="btn m-2" (click) = closeModal()>Back</option>
                <option for="my-modal" class="btn m-2" routerLink="/rate">Rate</option>              
              </div>

              <div *ngIf="(tr.status).toUpperCase() === 'In-progress'.toUpperCase()">
                <option for="my-modal" class="btn" (click) = closeModal()>Back</option>
                <option for="my-modal" class="btn m-2" (click)= cancelOrder()>Cancel Order</option>
              </div>

              <div *ngIf="(tr.status).toUpperCase() === 'Cancelled'.toUpperCase()">
                <option for="my-modal" class="btn" (click) = closeModal() >Back</option>
              </div>

            </div>

                  <!-- <button class="btn btn-sm btn-ghost btn1"  for="my-modal" routerLink="/order-history">Back</button> -->
                  <!-- <button class=" btn btn-sm btn-ghost btn2" [routerLink]="['/rate']" routerLinkActive="router-link-active"  >Rate</button> -->
                </div>
              </div>

            </div>
          </div>
        </div>
        
      </div>
        </table>
</div>



<!-- NEEEEeeeeeeeeeeeeeeeeeeeeeeeee -->

<!-- <div class="overflow-x-auto">
  <table class="table w-full">
   head -->
   <!-- <thead>
      <tr>
        <th class="head">No</th>
        <th class="head">Order#</th>
        <th class="head">Status</th>
        <th class="head">Action</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of result2; let i = index">
        <tr class="hover">
          <th>{{ i + 1 }}</th>
          <td>{{ item.transactionID }}</td>
          <td>{{ item.status }}</td>
          <td><span><label for="my-modal" class=""><i (click)="getStatus(i)" class="fas fa-eye"></i
              ></label>
            </span>
          </td>
        </tr> -->
        <!-- row 3 -->
      <!-- <input type="checkbox" id="my-modal" class="modal-toggle" />
        <div class="modal">
          <div class="modal-box">
            <h3 class="font-bold text-lg">
              Congratulations random Internet user!
            </h3>
            <p class="py-4">
              You've been selected for a chance to get one year of subscription
              to use Wikipedia for free!
            </p>

            <div class="modal-action"> -->
              
              <!-- <option for="my-modal"  *ngIf="item.status !=='complete'" [ngValue]="item.status" class="btn">Rate</option>
        <option for="my-modal"  *ngIf="item.status !=='in-progress'" [ngValue]="item.status" class="btn">Back</option> -->

              <!--<div *ngIf="toggleModalButton == 'pending'"> 
                <option for="my-modal" class="btn">Cancel Order</option>
                <option for="my-modal" class="btn">Back</option>
              </div>

              <div *ngIf="toggleModalButton == 'complete'">
                <option for="my-modal" class="btn">Rate</option>
              </div>

              <div *ngIf="toggleModalButton == 'In-progress'">
                <option for="my-modal" class="btn">Back</option>
              </div>

              <div *ngIf="toggleModalButton == 'cancelled'">
                <option for="my-modal" class="btn">Back</option>
              </div>

            </div>
          </div>
        </div>
      </ng-container>
    </tbody>
  </table>
</div> -->

<!-- The button to open modal -->

<!-- Put this part before </body> tag -->

<!-- NEEEEeeeeeeeeeeeeeeeeeeeeeeeee -->
